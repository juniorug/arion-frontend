<ngx-spinner
bdColor="rgba(51,51,51,0.5)"
size="medium"
color="#673ab7"
type="ball-spin-clockwise"
></ngx-spinner>
<div class="main-content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header card-header-info">
            <div class="row">
              <div class="col-md-10">
                <h4 class="card-title">Edit Asset Item</h4>
              </div>
              <div class="col-md-2 float-right"></div>
            </div>
          </div>
          <div class="card-body">
            <div>
              <form (ngSubmit)="onSubmit()">
                <div class="row">
                  <div class="col-md-6">
                    <mat-form-field class="example-full-width">
                      <input
                        matInput
                        id="id"
                        placeholder="Asset Item ID"
                        [(ngModel)]="assetItem.assetItemID"
                        name="assetItemID"
                        disabled
                      />
                    </mat-form-field>
                  </div>
                  <div class="col-md-6">
                    <mat-form-field class="example-full-width">
                      <input
                        matInput
                        id="parentID"
                        placeholder="Parent ID"
                        [(ngModel)]="assetItem.parentID"
                        name="parentID"
                        disabled
                      />
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-3" *ngIf="currentActor">
                    <mat-form-field class="example-full-width">
                      <input
                        matInput
                        id="ownerID"
                        placeholder="Owner"
                        [(ngModel)]="currentActor.actorName"
                        [value]="assetItem.ownerID"
                        name="ownerID"
                        disabled
                      />
                    </mat-form-field>
                  </div>
                  <div class="col-md-3" *ngIf="currentStep">
                    <mat-form-field class="example-full-width">
                      <input
                        matInput
                        id="stepID"
                        placeholder="Step"
                        [(ngModel)]="currentStep.stepName"
                        [value]="assetItem.stepId"
                        name="stepID"
                        disabled
                      />
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field class="example-full-width">
                      <mat-label>Process Date</mat-label>
                      <input
                        matInput
                        type="datetime-local"
                        placeholder="Process Date"
                        [(ngModel)]="assetItem.processDate"
                        name="processDate"
                        disabled
                      />
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field class="example-full-width">
                      <mat-label>Delivery Date</mat-label>
                      <input
                        matInput
                        type="datetime-local"
                        placeholder="Delivery Date"
                        [(ngModel)]="assetItem.deliveryDate"
                        name="deliveryDate"
                      />
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-3">
                    <mat-form-field class="example-full-width">
                      <input
                        matInput
                        id="orderPrice"
                        placeholder="Order Price"
                        [(ngModel)]="assetItem.orderPrice"
                        name="orderPrice"
                      />
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field class="example-full-width">
                      <input
                        matInput
                        id="shippingPrice"
                        placeholder="Shipping Price"
                        [(ngModel)]="assetItem.shippingPrice"
                        name="shippingPrice"
                      />
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field class="example-full-width">
                      <input matInput id="status" placeholder="Status" [(ngModel)]="assetItem.status" name="status" />
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field class="example-full-width">
                      <input
                        matInput
                        id="quantity"
                        placeholder="Quantity"
                        [(ngModel)]="assetItem.quantity"
                        name="quantity"
                      />
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12" style="margin-bottom: 15px">
                    <!-- <p class="aditional-label">Aditional Info:</p> -->
                    <button
                      class="btn btn-primary"
                      mat-button
                      mat-raised-button
                      (click)="addAditionalInfo()"
                      type="button"
                    >
                      <i class="material-icons">add</i>
                      Add Aditional Info
                    </button>
                    <mat-divider></mat-divider>
                  </div>
                  <div class="col-md-12">
                    <form [formGroup]="aditionalInfoMapFormGroup">
                      <div
                        class="inner-row col-md-3"
                        formArrayName="aditionalInfoMap"
                        *ngFor="
                          let aditionalInfo of aditionalInfoMapFormGroup.get('aditionalInfoMap')['controls'];
                          let i = index
                        "
                      >
                        <div [formGroupName]="i" class="card inner">
                          <div class="card-header">
                            <button
                              class="btn btn-remove-item float-right"
                              mat-button
                              mat-raised-button
                              (click)="removeAditionalInfo(i)"
                              type="button"
                            >
                              <i class="material-icons">highlight_off</i>
                            </button>
                          </div>
                          <div class="card-body">
                            <mat-form-field>
                              <mat-label>Key</mat-label>
                              <input matInput formControlName="key" placeholder="Key" />
                            </mat-form-field>
                            <mat-form-field>
                              <mat-label>Value</mat-label>
                              <input matInput formControlName="value" placeholder="Value" />
                            </mat-form-field>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12">
                    <button mat-raised-button type="submit" class="btn btn-info float-right">Submit</button>
                    <button
                      mat-raised-button
                      type="button"
                      class="btn btn-default float-right"
                      onclick="history.back()"
                    >
                      Cancel
                    </button>
                  </div>
                </div>
                <div class="clearfix"></div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <button class="btn btn-primary float-right" onclick="history.back()">
          <i class="material-icons">arrow_back_ios</i>Back
        </button>
      </div>
    </div>
  </div>
</div>
